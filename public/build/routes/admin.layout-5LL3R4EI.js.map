{
  "version": 3,
  "sources": ["../../../app/routes/admin.layout.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/admin.layout.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/admin.layout.tsx\");\n  import.meta.hot.lastModified = \"1723532303530.93\";\n}\n// REMIX HMR END\n\nimport React from 'react';\nimport { Outlet, Link, useLoaderData, Form } from \"@remix-run/react\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { Auth0Service } from '../services/Auth0Service';\n// Ensure required environment variables are set\nif (!process.env.AUTH0_DOMAIN || !process.env.AUTH0_CLIENT_ID || !process.env.AUTH0_CLIENT_SECRET || !process.env.AUTH0_AUDIENCE || !process.env.AUTH0_CALLBACK_URL || !process.env.AUTH0_LOGOUT_RETURN_TO || !process.env.SESSION_SECRET) {\n  throw new Error(\"Missing AUTH0 environment variables\");\n}\n\n// Initialize the Auth0 service\nconst auth0 = new Auth0Service(process.env.AUTH0_DOMAIN, process.env.AUTH0_CLIENT_ID, process.env.AUTH0_CLIENT_SECRET, process.env.AUTH0_AUDIENCE, process.env.AUTH0_CALLBACK_URL, process.env.AUTH0_LOGOUT_RETURN_TO, process.env.SESSION_SECRET);\n// Loader function to authenticate user and check admin privileges\nexport const loader = async ({\n  request\n}) => {\n  const userAndAdminStatus = await auth0.getUserAndAdminStatus(request);\n  if (!userAndAdminStatus || !userAndAdminStatus.isAdmin) {\n    return redirect(\"/login\");\n  }\n  return json({\n    user: userAndAdminStatus.user\n  });\n};\n\n// Main layout for the admin dashboard\nexport default function AdminLayout() {\n  _s();\n  const {\n    user\n  } = useLoaderData();\n  return <div className=\"admin-layout\">\n      <header className=\"bg-gray-800 text-white p-4\">\n        <div className=\"container mx-auto flex justify-between items-center\">\n          <h1 className=\"text-2xl font-bold\">Admin Dashboard</h1>\n          <div className=\"flex items-center space-x-4\">\n            <span>Welcome, {user.name || user.email}</span>\n            <Form action=\"/logout\" method=\"post\">\n              <button type=\"submit\" className=\"bg-red-500 hover:bg-red-600 px-4 py-2 rounded\">\n                Logout\n              </button>\n            </Form>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"container mx-auto mt-8 flex\">\n        <nav className=\"w-1/4 pr-8\">\n          <ul className=\"space-y-2\">\n            <li>\n              <Link to=\"/admin\" className=\"block p-2 hover:bg-gray-100 rounded\">\n                Dashboard\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/admin/users\" className=\"block p-2 hover:bg-gray-100 rounded\">\n                Manage Users\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/admin/products\" className=\"block p-2 hover:bg-gray-100 rounded\">\n                Manage Products\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/admin/sources\" className=\"block p-2 hover:bg-gray-100 rounded\">\n                Manage Sources\n              </Link>\n            </li>\n          </ul>\n        </nav>\n\n        <main className=\"w-3/4\">\n          <Outlet />\n        </main>\n      </div>\n    </div>;\n}\n\n// Error boundary for handling unexpected errors in the admin dashboard\n_s(AdminLayout, \"FpjQZylbefWQChk+MjGNfSb2jDo=\", false, function () {\n  return [useLoaderData];\n});\n_c = AdminLayout;\nexport function ErrorBoundary({\n  error\n}) {\n  console.error(error);\n  return <div className=\"error-container\">\n      <h1>Error</h1>\n      <p>An unexpected error occurred in the admin dashboard. Please try again later.</p>\n    </div>;\n}\n\n// Catch boundary for handling unauthorized access\n_c2 = ErrorBoundary;\nexport function CatchBoundary() {\n  return <div className=\"error-container\">\n      <h1>Access Denied</h1>\n      <p>You do not have permission to access the admin dashboard.</p>\n      <Link to=\"/\" className=\"text-blue-500 hover:underline\">\n        Return to Home\n      </Link>\n    </div>;\n}\n_c3 = CatchBoundary;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AdminLayout\");\n$RefreshReg$(_c2, \"ErrorBoundary\");\n$RefreshReg$(_c3, \"CatchBoundary\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
